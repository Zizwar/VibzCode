# ุฅุนุฏุงุฏ GitHub OAuth ูู VibzCode

## โ ูุง ุชู ุฅุถุงูุชู

ุชู ุฅุถุงูุฉ ูุธุงู ูุตุงุฏูุฉ ูุงูู ูููุตูู ุฅูู ุงููุณุชูุฏุนุงุช ุงูุฎุงุตุฉ ุนูู GitHub:

### ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:
- โจ ุชุณุฌูู ุงูุฏุฎูู ุนุจุฑ GitHub OAuth
- ๐ ุงููุตูู ูููุณุชูุฏุนุงุช ุงูุฎุงุตุฉ (Private Repositories)
- ๐ ุนุฑุถ ูุงุฆูุฉ ุจุฌููุน ุงููุณุชูุฏุนุงุช (ุนุงูุฉ + ุฎุงุตุฉ)
- ๐ฏ ุงุฎุชูุงุฑ ุงููุณุชูุฏุน ูุจุงุดุฑุฉ ูู ุงููุงุฆูุฉ
- ๐ค ุนุฑุถ ูุนูููุงุช ุงููุณุชุฎุฏู ุงููุตุงุฏู
- ๐ ุชุณุฌูู ุงูุฎุฑูุฌ

---

## ๐ ุฎุทูุงุช ุงูุฅุนุฏุงุฏ

### 1๏ธโฃ ุฅูุดุงุก GitHub OAuth App

1. ุงุฐูุจ ุฅูู: **https://github.com/settings/developers**
2. ุงุถุบุท ุนูู **"New OAuth App"**
3. ุงููุฃ ุงูุจูุงูุงุช ุงูุชุงููุฉ:

```
Application name: VibzCode
Homepage URL: https://app.vibzcode.com
Authorization callback URL: https://app.vibzcode.com/auth/github/callback
Description: Access to private GitHub repositories for code analysis
```

4. ุงุถุบุท **"Register application"**
5. ุณุชุญุตู ุนูู:
   - **Client ID** (ุณูุธูุฑ ูุจุงุดุฑุฉ)
   - **Client Secret** (ุงุถุบุท "Generate a new client secret" ูุงูุณุฎู ููุฑุงู - ูู ูุธูุฑ ูุฑุฉ ุฃุฎุฑู!)

### 2๏ธโฃ ุฅุถุงูุฉ ุงููุนูููุงุช ุฅูู ููู .env

ุงูุชุญ ููู `.env` ูู ูุฌูุฏ ุงููุดุฑูุน ูุฃุถู ุงููุนูููุงุช ุงูุชุงููุฉ:

```bash
# GitHub OAuth Configuration
GITHUB_CLIENT_ID=Iv1.abc123def456
GITHUB_CLIENT_SECRET=your_secret_here_keep_it_safe

# Session Secret (ุฃู ูุต ุนุดูุงุฆู ุทููู - ููููู ุงุณุชุฎุฏุงู ุงูุฃูุฑ ุฃุฏูุงู ูุชูููุฏู)
SESSION_SECRET=your_random_long_secret_key_here

# Application URL
APP_URL=https://app.vibzcode.com

# GitHub OAuth Callback URL
GITHUB_CALLBACK_URL=https://app.vibzcode.com/auth/github/callback
```

**ูุชูููุฏ SESSION_SECRET ุนุดูุงุฆู ุขูู:**
```bash
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

### 3๏ธโฃ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุณูุฑูุฑ

ุจุนุฏ ุฅุถุงูุฉ ุงููุนูููุงุช ุฅูู `.env`ุ ุฃุนุฏ ุชุดุบูู ุงูุณูุฑูุฑ:

```bash
# ุฅุฐุง ููุช ุชุณุชุฎุฏู npm
npm start

# ุฃู ุฅุฐุง ููุช ุชุณุชุฎุฏู PM2
npm run pm2:restart
```

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูููุณุชุฎุฏููู:

1. **ุงูุชุญ ุงูุชุทุจูู**: https://app.vibzcode.com
2. **ุงุฐูุจ ูุชุจููุจ GitHub** ูู ุงูุดุฑูุท ุงูุฌุงูุจู
3. **ุงุถุบุท "Connect GitHub"**
4. **ุตุงุฏู ุนูู GitHub** ูุงุนุทู ุงูุตูุงุญูุงุช
5. **ุงุถุบุท "Browse Repos"** ูุนุฑุถ ุฌููุน ุงููุณุชูุฏุนุงุช
6. **ุงุฎุชุฑ ุฃู ูุณุชูุฏุน** (ุญุชู ูู ูุงู ุฎุงุต) ูุณูุชู ูุณุฎู ุชููุงุฆูุงู!

### ุงููุตูู ูููุณุชูุฏุนุงุช ุงูุฎุงุตุฉ:
- **ูุน ุงููุตุงุฏูุฉ**: ููููู ุงููุตูู ูุฃู ูุณุชูุฏุน ูุฏูู ุตูุงุญูุฉ ุนููู
- **ุจุฏูู ูุตุงุฏูุฉ**: ููุท ุงููุณุชูุฏุนุงุช ุงูุนุงูุฉ

---

## ๐ง ุงูุชูุงุตูู ุงูุชูููุฉ

### ุงููููุงุช ุงููุนุฏูุฉ:
1. **server.js** - ุฅุถุงูุฉ:
   - ูุธุงู Session Management
   - GitHub OAuth routes (`/auth/github`, `/auth/github/callback`, `/auth/logout`)
   - API ูุฌูุจ ุงููุณุชูุฏุนุงุช (`/api/repos`)
   - API ููุชุญูู ูู ุญุงูุฉ ุงููุตุงุฏูุฉ (`/api/auth/status`)
   - ุชุนุฏูู `fetchFromGitHub()` ูุงุณุชุฎุฏุงู Access Token

2. **public/index.html** - ุฅุถุงูุฉ:
   - ุฒุฑ "Connect GitHub"
   - ุนุฑุถ ุญุงูุฉ ุงููุตุงุฏูุฉ
   - ูุงุฆูุฉ ุงููุณุชูุฏุนุงุช ุงููุงุจูุฉ ููุงุฎุชูุงุฑ
   - ุฒุฑ Logout

3. **public/js/upload.js** - ุฅุถุงูุฉ ุฏูุงู:
   - `checkAuthStatus()` - ุงูุชุญูู ูู ุญุงูุฉ ุงููุตุงุฏูุฉ
   - `loginWithGitHub()` - ุจุฏุก ุนูููุฉ ุงููุตุงุฏูุฉ
   - `logout()` - ุชุณุฌูู ุงูุฎุฑูุฌ
   - `fetchUserRepos()` - ุฌูุจ ูุงุฆูุฉ ุงููุณุชูุฏุนุงุช
   - `selectRepo()` - ุงุฎุชูุงุฑ ูุณุชูุฏุน

4. **public/js/app.js** - ุฅุถุงูุฉ:
   - ุงุณุชุฏุนุงุก `checkAuthStatus()` ุนูุฏ ุงูุชุญููู
   - ูุนุงูุฌุฉ callbacks ูู GitHub

### ุงูุฃูุงู:
- โ Session cookies ูุน `httpOnly`, `secure`, `sameSite`
- โ CSRF protection ุนุจุฑ `state` parameter
- โ Access tokens ูุญููุธุฉ ูู ุงูุฐุงูุฑุฉ (server-side sessions)
- โ ุนุฏู ุชุฎุฒูู Tokens ูู localStorage ุฃู cookies ุนูู ุงููุชุตูุญ

### ุงูุตูุงุญูุงุช ุงููุทููุจุฉ:
ุงูุชุทุจูู ูุทูุจ ุตูุงุญูุฉ `repo` ููุทุ ูุงูุชู ุชุนุทู:
- ูุฑุงุกุฉ ุงููุณุชูุฏุนุงุช ุงูุนุงูุฉ ูุงูุฎุงุตุฉ
- ูุณุฎ (clone) ุงููุณุชูุฏุนุงุช
- **ูุง** ุชุนุทู ุตูุงุญูุงุช ุงููุชุงุจุฉ ุฃู ุงูุชุนุฏูู

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### "GitHub OAuth not configured"
โ **ุงูุณุจุจ**: ูู ูุชู ุฅุถุงูุฉ `GITHUB_CLIENT_ID` ูู `.env`
โ **ุงูุญู**: ุชุฃูุฏ ูู ุฅุถุงูุฉ Client ID ู Secret ูู `.env` ูุฅุนุงุฏุฉ ุชุดุบูู ุงูุณูุฑูุฑ

### "Invalid state parameter"
โ **ุงูุณุจุจ**: ูุดููุฉ ูู ุงูู session ุฃู ูุญุงููุฉ CSRF attack
โ **ุงูุญู**: ุงูุณุญ cookies ูุญุงูู ูุฑุฉ ุฃุฎุฑูุ ุฃู ุชุฃูุฏ ูู ุฃู `SESSION_SECRET` ููุฌูุฏ

### "Failed to fetch repositories"
โ **ุงูุณุจุจ**: ุงูุชูุช ุตูุงุญูุฉ ุงูู session
โ **ุงูุญู**: ุณุฌูู ุฎุฑูุฌ ุซู ุณุฌูู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู

### "Authentication failed"
โ **ุงูุณุจุจ**: ุฎุทุฃ ูู Client ID ุฃู Secret
โ **ุงูุญู**: ุชุญูู ูู ุฃู ุงูููู ุงููุฏุฎูุฉ ูู `.env` ุตุญูุญุฉ ุจุงูุถุจุท ูู GitHub

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **HTTPS ูุทููุจ**: GitHub OAuth ูุนูู ููุท ุนูู HTTPS ูู production (ูุฏูู SSL ููุนู ุจุงููุนู โ)

2. **Callback URL**: ูุฌุจ ุฃู ูููู ุจุงูุถุจุท ููุง ูู ุฅุนุฏุงุฏุงุช GitHub OAuth App:
   ```
   https://app.vibzcode.com/auth/github/callback
   ```

3. **Sessions ูู ุงูุฐุงูุฑุฉ**: ุญุงููุงู ุงูู sessions ูุญููุธุฉ ูู RAM. ุฅุฐุง ุฃุนุฏุช ุชุดุบูู ุงูุณูุฑูุฑุ ุณูุญุชุงุฌ ุงููุณุชุฎุฏููู ูุชุณุฌูู ุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู.

4. **ููุฅูุชุงุฌ**: ูููุตุญ ุจุงุณุชุฎุฏุงู Redis ุฃู database ูุชุฎุฒูู sessions ููุญูุงุธ ุนูููุง ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู.

---

## ๐ ุฌุงูุฒ!

ุจุนุฏ ุงุชุจุงุน ูุฐู ุงูุฎุทูุงุชุ ุณูุชููู ุงููุณุชุฎุฏููู ูู:
- ุชุณุฌูู ุงูุฏุฎูู ุจุญุณุงุจุงุชูู ุนูู GitHub
- ุงููุตูู ูุฌููุน ูุณุชูุฏุนุงุชูู ุงูุฎุงุตุฉ
- ุงุณุชูุดุงู ูุชุญููู ุงูููุฏ ุจุดูู ุขูู

---

**ุตูุน ุจู โค๏ธ ูู VibzCode v2.0**
